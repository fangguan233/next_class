<!DOCTYPE html>
<html lang="zh-CN" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>下一节课</title>
    <script>
        // Anti-flicker script
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark');
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // 配置Tailwind主题
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        light: {
                            bg: '#f0f5ff',
                            text: '#333',
                            card: '#fff',
                            accent: '#4096ff',
                            accentHover: '#1677ff',
                            btn: '#4096ff',
                            btnHover: '#1677ff'
                        },
                        dark: {
                            bg: '#121212',
                            text: '#E0E0E0',
                            card: '#1A1A1A',
                            accent: '#4096ff', // Blue accent for dark mode
                            btn: '#003366', // Deep Blue
                            btnHover: '#002244',
                            btnText: '#FFFFFF' // White Text
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #4b5563;
        }
        .dark .weather-icon {
            filter: invert(1) brightness(2);
        }
    </style>
</head>
<body class="bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text font-sans min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-300">
    <div class="w-full max-w-lg mx-auto bg-light-card dark:bg-dark-card rounded-2xl shadow-xl p-6 sm:p-8">
        <!-- 新的水平滚动天气容器 -->
        <div id="weather-container" class="mb-6 hidden">
            <h3 class="text-lg font-semibold mb-2 text-light-text dark:text-dark-text">逐小时预报</h3>
            <div class="flex overflow-x-auto space-x-4 pb-4 custom-scrollbar">
                <!-- 小时天气卡片将在这里动态生成 -->
            </div>
        </div>
        <div id="result" class="text-center mb-6">
            <!-- 下一节课信息将在这里显示 -->
        </div>
        <div id="weekly-schedule" class="space-y-4 max-h-96 overflow-y-auto custom-scrollbar pr-2">
            <!-- 本周课程表将在这里显示 -->
        </div>
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4">
            <button onclick="window.location.href='index.html'" class="w-full px-4 py-3 bg-light-btn dark:bg-dark-btn text-white hover:bg-light-btnHover dark:hover:bg-dark-btnHover font-semibold rounded-lg shadow-md transition-all duration-200">
                设置界面
            </button>
            <button onclick="exportLocalStorage()" class="w-full px-4 py-3 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transition-all duration-200">
                导出数据
            </button>
            <button onclick="clearLocalStorage()" class="w-full px-4 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg shadow-md transition-all duration-200">
                清除本地数据
            </button>
        </div>
    </div>
    <script src="next_class.js"></script>
</body>
</html>
